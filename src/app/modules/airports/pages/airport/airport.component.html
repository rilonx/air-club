<div class="card text-white bg-dark" *ngIf="airport">
  <h5 class="card-header">Аэропорт:</h5>
  <div class="card-body">
    <dynamic-form [model]="airport"
                  [fields]="airportFields"
                  [operation]="operation"
                  [errorMessage]="errorMessage"
                  (create)="create($event)"
                  (update)="update($event)">
    </dynamic-form>
  </div>
</div>
<div *ngIf="operation === Operations.read">

  <h5 style="margin-top: 20px">Самолеты в аэропорту:</h5>

  <table class="table">
    <thead class="thead-dark">
    <tr>
      <th scope="col">Код</th>
      <th scope="col">Тип ВС</th>
      <th scope="col">Борт номер</th>
      <th scope="col">Марка</th>
      <th scope="col">Модель</th>
      <th style="text-align: right">
        <button *isRole="['admin']"
                (click)="addPlane()"
                class="btn btn-sm btn-primary">Добавить
        </button>
      </th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let plane of planeList">
      <td>{{ plane.code }}</td>
      <td>{{ plane.type }}</td>
      <td>{{ plane.number }}</td>
      <td>{{ plane.brand }}</td>
      <td>{{ plane.model }}</td>
      <td style="text-align: right" *ngIf="!isRemoving">
        <button *isRole="['admin']"
                (click)="removePlane(plane)"
                class="btn btn-sm btn-danger"
                style="margin-right: 5px">Удалить</button>
      </td>
      <td style="text-align: right" *ngIf="isRemoving">
        Удаление ...
      </td>
    </tr>
    </tbody>
  </table>

  <h5 style="margin-top: 20px">Пилоты аэропорта:</h5>

  <table class="table">
    <thead class="thead-dark">
    <tr>
      <th scope="col">Код</th>
      <th scope="col">Номер</th>
      <th scope="col">ФИО</th>
      <th scope="col">Адрес</th>
      <th style="text-align: right">
        <button *isRole="['admin']"
                (click)="addPilot()"
                class="btn btn-sm btn-primary">Добавить
        </button>
      </th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let pilot of pilotList">
      <td>{{ pilot.code }}</td>
      <td>{{ pilot.number }}</td>
      <td>{{ pilot.fio }}</td>
      <td>{{ pilot.address }}</td>
      <td style="text-align: right" *ngIf="!isRemoving">
        <button *isRole="['admin']"
                (click)="removePilot(pilot)"
                class="btn btn-sm btn-danger"
                style="margin-right: 5px">Удалить</button>
      </td>
      <td style="text-align: right" *ngIf="isRemoving">
        Удаление ...
      </td>
    </tr>
    </tbody>
  </table>
</div>
